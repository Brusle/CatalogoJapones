{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Búsqueda de Personajes</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="search-bg">

    <header class="top-navbar">
        <a href="{% url 'welcome' %}" class="navbar-brand">Catálogo de Anime</a>
        <div class="navbar-metric-selector">
            <button type="button" class="metric-btn active" data-metric="cosine">Similaridad Coseno</button>
            <button type="button" class="metric-btn" data-metric="l2">Distancia Euclidiana</button>
        </div>
    </header>

    <main class="search-content-area">
        <form action="{% url 'search_results' %}" method="get" class="search-card">
            <input type="hidden" name="metric" id="metric-input" value="cosine">
            <textarea name="query" class="query-input" rows="4" placeholder="Describe al personaje que buscas..."></textarea>
            <button type="submit" class="search-submit-btn">Buscar</button>
        </form>

        <div style="margin-top: 25px;">
            <a href="{% url 'character_list' %}" class="catalog-btn">Ver Catálogo de Personajes</a>
        </div>
    </main>

    <script>
        const metricButtons = document.querySelectorAll('.metric-btn');
        const metricInput = document.getElementById('metric-input');

        metricButtons.forEach(button => {
            button.addEventListener('click', () => {
                metricButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                metricInput.value = button.dataset.metric;
            });
        });
    </script>
</body>
</html>